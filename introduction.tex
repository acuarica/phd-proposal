
% !TEX root = main.tex

\chapter{Introduction}

Programming language design has been always a hot topic in computer science literature.
It has been extensively studied in the past decades.
For instance, there is a trend in incorporating functional programming features into mainstream object-oriented languages, \eg{}, lambdas in \java{} 8\footnote{\url{https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html\#jls-15.27}} and \cpp{}11\footnote{\url{http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2006/n1968.pdf}}.
But once a language is released, little is known about how its features are actually used by the developer community.
Therefore, it is extremely difficult to assess how features in a language impact programmers productivity.

We believe that if we (as a research community) understand what kinds of programs are written, we can use this information to improve several aspect of the software development process.
But how to test it?

\section{What do we want to provide?}

As its core, we believe that understanding how actually language features are
used is paramount.


\section{How to select good representatives?}

researchers miss opportunities to improve the state of the art
tool builders use unrealistic assumptions
language designers fail to improve upon their designs
developers are unable to explore efficient and effective use of lambdas.

Understanding how developers make use of language features can be helpful to a broad range audience.
It can aid language designers to improve their languages;
tool builders can make real assumptions;
researchers to better improve the state of the art;
developers can benefit from are unable to explore efficient and effective.

Language designers add features to their languages based
We believe
three specific features, namely
We have divised and we plan to divise language and \api{} patterns in order to properly assess this driving forces.
To understand patterns

In this proposal, we plan to explore
Understanding the Use of Language Features in Java
Supporting informed decisions for these driving forces.
Exploring the usability and feasibility of creating new languages based on empirical studies



Evidence-based language as a long term goal

Mining language features thesis
Title: *Understanding Java in the Wild*
Research Question: Is Java Safe?
Methodological Contribution, to evolve your language
Motivate the umbrella that put together those 3 pillars



\hlbox{Understanding Java in the Wild?}


\section{Proposal Outline}

In our research we investigate the feasibility of 

Supercompilation for specific domains.

Whether it is worth it

\begin{itemize}

\item Chapter~ref{ch:supercompilation} gives an introduction to Supercompilation.

\item Chapter~ref{ch:gui} we present how supercompilation can be understood from a visual perspective.

\item Chapter~ref{ch:parser-combinators} Parser combinators are high level description on how to parse a given language.
Because it contains a high-level of composability, supercompilation is the ideal mecanisn to exploit its essence.

\item Chapter~ref{ch:rewrite-rules} shows how the link between Rewrite Rules and Supercompilation.

\item Chapter~ref{ch:dependent-types} discusses about the link between Dependent types and Supercompilation.

\end{itemize}


Empirical Analysis


In the article, *In Defense of Soundiness: A Manifesto*,

https://cacm.acm.org/magazines/2015/2/182650-in-defense-of-soundiness

the authors claim that in order to understand how the limit of analysis tools impact software,
first we need to understand the what kind of code is being written in the real world.
This fact opens the door for empirical studies about language features and their use in
software repositories, e.g., Maven Central.


* Counting Casts related Instructions and Exceptions in Maven Central

The *Bytecode* column refer to either an cast related instruction or exception.
These are the cast related bytecodes:

- checkcast as specified by:
https://docs.oracle.com/javase/specs/jvms/se7/html/\url{jvms-6.html#jvms-6.5.checkcast}
- instanceof as specified by:
https://docs.oracle.com/javase/specs/jvms/se7/html/\url{jvms-6.html#jvms-6.5.instanceof}
- ClassCastException as specified by:
https://docs.oracle.com/javase/7/docs/api/java/lang/ClassCastException.html

The following two columns indicates how many bytecode where found in:
- *local*
My local machine.
This machine contains a *partial* download of a current snapshot of Maven Central.
Re-download all the artifacts is in progress.
- *fermat*
fermat.inf.usi.ch machine.
This machine contains an old snapshot of Maven Central (2015)

| *Bytecode*         | *local ~ 225.221/1.342.637 jars* | *fermat ~ 300.000/622.310 jars* |
|--------------------+----------------------------------+---------------------------------|
| checkcast          |                       75.486.246 |                     142.425.923 |
| instanceof         |                       15.048.033 |                      25.458.974 |
| ClassCastException |                          404.699 |                         542.049 |

Platform for Deep Mining Analysis at big scale -- Empirical Deep Analysis
With a DSL?
It is costly in infrastucture
No research, just a tool paper

Studies of Casts in Java
Cast it at Your Own Risk: Java Casts in the Wild????
Use our casts empirical study to support more studies on subjects
Instead of using arbitrary experiments (tasks) use real world examples
Re-cast Reflection Empirical Study to the whole Maven repository
Hoogle for Java at big scale -- Not only signatures, but also deep code patterns

Improper use of catch exceptions, e.g., NullPointerException
Detect improper bug fixes


Reimplement the pattern search w/ static analysis?
Manual inspection does not scale up
Redo manual inspection
Is it possible to write an analysis to detect a single pattern?
Relate each pattern w/ alternatives in another languages
Criticize of language features/API design
Language for Serialization paper POPL 2006
The next 700 data description languages
Cast Patterns
Time Restrictions/Thesis Schedule
Find Concrete Thesis Statement


Graph (PDG) Comparison
Sink/Source
Linear Comparison
Code Search
Jungloid Mining

Code Pattern Search (particular for casts)
Coercion

https://www.juliasoft.com/
What are the cast patterns?
Abuses of cast
Is it code or data?

Use or not use of parametrized types?

Dominators/Immediate Dominators
A Simple, Fast Dominance Algorithm paper



Slices/Dominators \& Post-Dominators for Control Dependencies
Slices as a tree in JNIF

To type or not to type
https://blog.acolyer.org/2017/09/19/to-type-or-not-to-type-quantifying-detectable-bugs-in-javascript/
\url{http://ttendency.cs.ucl.ac.uk/projects/type_study/documents/type_study.pdf}

Implicits in Scala
Users/Compilers Java/Scala generated bytecode
Jurgen Vinju paper, http://homepages.cwi.nl/~storm/publications/visitor.pdf

Use our casts empirical study to support more studies on subjects
Instead of using arbitrary experiments (tasks) use real world examples
Search for ~Related Work~: Is it already done?
Uses of casts in C++?
TODO Look in MSR last years, and search for Java casts studies
TODO Come up with the related work already

Four types of casts in C++
const\_cast
dynamic\_cast
reinterpret\_cast
static\_cast

TODO Check for the following in Maven:
Counting Casts in Maven
CheckCast
InstanceOf
catch ClassCastException


It is important to note that our work on the \emph{unsafe} \api{} in \java{} has a moderate impact in the research literature.
Several authors~
\cite{staicu_understanding_2017,jiang_unsupervised_2017,zhang_accepting_2016,saied_cooperative_2016,hora_when_2016,li_accessing_2016,holzinger_-depth_2016} had used our article as evidence of the unsafety in \java{}.
And~\cite{bruno_ng2c:_2017} refer to off-heap memory allocation inside the \jvm{}.

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "main"
%%% End:
